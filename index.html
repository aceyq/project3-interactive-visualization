<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>DSC 106 Project 3 · CMIP6 Interactive</title>

  <!-- Fonts & Styles -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
    rel="stylesheet"
  >
  <link rel="stylesheet" href="style.css" />

  <!-- D3.js -->
  <script src="https://d3js.org/d3.v7.min.js"></script>
</head>
<body>
  <header class="site-header">
    <h1>Projected Global Temperature &amp; Precipitation (CMIP6)</h1>
    <p class="authors">Jensen Emi · Calvin Magsie · Acelynn Qiao · Rezon Gautama</p>

    <p class="subtitle">
      How do projected changes in global temperature and precipitation under different CMIP6 scenarios help us
      understand future climate patterns and their potential impact on global vegetation?
    </p>
  </header>

  <section class="controls">
    <div class="control-group">
      <label>Scenarios</label>
      <div class="scenario-pills" id="scenario-pills">
        <button class="pill active" data-scn="SSP1-2.6">SSP1-2.6</button>
        <button class="pill active" data-scn="SSP2-4.5">SSP2-4.5</button>
        <button class="pill active" data-scn="SSP3-7.0">SSP3-7.0</button>
        <button class="pill active" data-scn="SSP5-8.5">SSP5-8.5</button>
      </div>
    </div>

    <div class="control-group">
      <label>Metric</label>
      <div class="switcher">
        <input type="radio" id="metric-tas" name="metric" value="tas" checked>
        <label for="metric-tas">Temperature Δ (°C, vs 1850–1900)</label>
      </div>
      <div class="switcher">
        <input type="radio" id="metric-pr" name="metric" value="pr">
        <label for="metric-pr">Precipitation Δ (mm/day)</label>
      </div>
    </div>
  </section>

  <main>
    <section class="chart-card">
      <h2>Global Trend Over Time • Brush to select years</h2>
      <div id="timeseries"></div>
      <p class="caption">
        Interactive line chart showing global mean change over time for selected scenarios.
        Use the brush to focus on a window; hover over points for exact values.
      </p>
    </section>

    <section class="writeup">
      <h2>Design Rationale</h2>
      <p>
        Our primary design goal was to help viewers compare how different CMIP6 scenarios change global temperature
        and precipitation over time in a way that is directly relevant to future vegetation stress or greening
        potential. We chose a single, global time-series view as the main graphic because it allows us to align all
        scenarios along a shared time axis, making it easy to see divergence between low- and high-emissions
        pathways. Time is encoded on the horizontal axis, while the magnitude of change in temperature or
        precipitation is encoded on the vertical axis, using position as the primary channel because it supports
        precise quantitative reading. Color is used to distinguish scenarios (SSP1–2.6, SSP2–4.5, SSP3–7.0,
        SSP5–8.5), following a progression from cooler to warmer colors to echo the idea of increasing radiative
        forcing.
      </p>
      <p>
        For interaction techniques, we focused on a small, coherent set that directly supports the question rather
        than a large collection of disconnected features. Scenario “pills” act as dynamic filters so viewers can
        quickly isolate individual pathways or compare subsets without overplotting. A metric toggle switches
        between temperature change (°C relative to an 1850–1900 baseline) and precipitation change (mm/day), using
        the same visual structure so users can mentally map patterns across variables. Brushing along the time axis
        allows viewers to zoom into specific ranges (for example, mid-century vs. late-century) and see how
        trajectories evolve within that window. Tooltips provide details-on-demand, surfacing exact values by year
        and scenario without cluttering the view with labels. We considered alternative designs, such as separate
        static charts for each scenario, small multiples by region, or using area charts instead of lines, but
        ultimately chose a single shared time-series with interactive filtering because it minimizes cognitive load
        while still enabling rich comparisons across scenarios and variables.
      </p>

      <h2>Development Process</h2>
      <p>
        One teammate was responsible for setting up the project structure by creating and organizing the core files
        (<code>index.html</code>, <code>style.css</code>, and <code>main.js</code>) and deploying the website through GitHub
        Pages so the visualization could be accessed online. This teammate also implemented and refined the
        interactivity of the main D3 time-series chart, including scenario filtering, metric toggling, brushing for
        time-window selection, and tooltip details-on-demand.
      </p>
      <p>
        Another teammate was responsible for preprocessing the CMIP6 climate data. This included loading the raw 
        datasets, calculating historical baselines from 1850-1900, and computing the temperature and precipitation
        values used in our visualization. 
      </p>
      <p>
        Another teammate initiated the D3 visualization in main.js. Worked on the initial interactive visualization where
        users can filter the data that they want to see based on the scenarios and metrics.
      </p>
      <p>
        Overall, the development process included data preprocessing, layout design, and interaction design. The most
        time-consuming portions involved debugging the interactive behaviors and ensuring smooth updates across filters
        and metrics, as well as preparing and validating the CMIP6 data used in the visualization.
      </p>
    </section>
  </main>

  <footer>
    <p>
      Built with D3.js for DSC 106 Project 3.
      Data: CMIP6 (preprocessed CSVs placed in <code>/data</code>).
    </p>
  </footer>

  <!-- Tooltip for details-on-demand -->
  <div id="tooltip" class="tooltip" style="opacity: 0;"></div>

  <!-- Main script -->
  <script src="main.js"></script>
</body>
</html>
